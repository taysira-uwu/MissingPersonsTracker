import java.util.Scanner;

// *****
// Class 5: MainApp 
// ******""
public class MissingPersonsSystem { // Main Class
    
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        MinistryManager manager = new MinistryManager();
        
        System.out.println("Welcome to Missing Persons Tracker (Java Project)");
        //thats the menu we'll show'
        while (true) {
            System.out.println("\n=== MAIN MENU ===");
            System.out.println("1. Report Missing Person (Add)");
            System.out.println("2. Add Unidentified Body Data");
            System.out.println("3. Show All Missing Reports");
            System.out.println("4. Show All Unidentified Bodies");
            System.out.println("5. Search Missing Person by Name");
            System.out.println("6. Delete Missing Report (by ID)");
            System.out.println("7. Edit Missing Person Phone (by ID)");
            System.out.println("8. Exit");
            System.out.print("Enter choice: ");
//to read the choice and store it
            String choice = scanner.nextLine();

            switch (choice) {
                case "1":
                // we'll read and store every added info about the mp'
                    System.out.print("Enter ID: "); String pid = scanner.nextLine();
                    System.out.print("Name: "); String name = scanner.nextLine();
                    System.out.print("Age: "); int age = Integer.parseInt(scanner.nextLine());
                    System.out.print("Gender (M/F): "); String gen = scanner.nextLine();
                    System.out.print("Phone: "); String phone = scanner.nextLine();
                    System.out.print("Last Location: "); String loc = scanner.nextLine();
                    System.out.print("Date (YYYY-MM-DD): "); String date = scanner.nextLine();
                    System.out.print("Description: "); String desc = scanner.nextLine();
                    //A new object to store all the mp info in it
                    MissingPerson mp = new MissingPerson(pid, desc, loc, gen, name, age, phone, date);
                    //then added it to our mp list
                    manager.addMissingPerson(mp);
                    break;

                case "2":
                //same here but to add an ub
                    System.out.print("Enter ID: "); String bid = scanner.nextLine();
                    
                    manager.showHospitals();
                    System.out.print("Enter hospital number: ");
                    int hospChoice = Integer.parseInt(scanner.nextLine());
                    String selectedHosp = manager.getHospitalFromList(hospChoice);
                    
                    
                    System.out.print("Found Location: "); String bloc = scanner.nextLine();
                    System.out.print("Gender (M/F): "); String bgen = scanner.nextLine();
                    System.out.print("Min Age: "); int min = Integer.parseInt(scanner.nextLine());
                    System.out.print("Max Age: "); int max = Integer.parseInt(scanner.nextLine());
                    System.out.print("Description: "); String bdesc = scanner.nextLine();
                    
                    UnidentifiedBody ub = new UnidentifiedBody(bid, bdesc, bloc, bgen, selectedHosp, min, max);
                    manager.addBody(ub);
                    break;

                case "3":
                    manager.showAllMissing();
                    break;

                case "4":
                    manager.showAllBodies();
                    break;

                case "5":
                    System.out.print("Enter Name to Search: ");
                    manager.searchByName(scanner.nextLine());
                    break;

                case "6":
                    System.out.print("Enter ID to Delete: ");
                    manager.deleteMissingPerson(scanner.nextLine());
                    break;
                    
                case "7":
                    System.out.print("Enter ID to Edit: ");
                    String editId = scanner.nextLine();
                    System.out.print("Enter New Phone: ");
                    String newPhone = scanner.nextLine();
                    manager.editMissingPersonPhone(editId, newPhone);
                    break;

                case "8":
                    System.out.println("Exiting... Goodbye.");
                    System.exit(0);
                    
                default:
                //to handle any invalid input
                    System.out.println("Invalid option!");
            }
        }
    }
}
// Taysira Alaqad
